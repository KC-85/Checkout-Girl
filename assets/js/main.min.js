// Minified JS generated from main.js
document.addEventListener('DOMContentLoaded',function(){try{const e=document.getElementById('heroCarousel');var t=null;if(e&&window.bootstrap&&window.bootstrap.Carousel){t=new bootstrap.Carousel(e,{interval:7000,ride:'carousel',pause:'hover'})}try{const e=window.matchMedia('(prefers-reduced-motion: reduce)').matches;e&&t&&typeof t.pause=='function'&&t.pause()}catch(e){}const n=document.getElementById('carouselPause');if(n&&t){n.addEventListener('click',function(){const e=n.getAttribute('aria-pressed')==='true';if(e){typeof t.cycle=='function'&&t.cycle();n.setAttribute('aria-pressed','false');n.textContent='Pause';n.setAttribute('aria-label','Pause carousel')}else{typeof t.pause=='function'&&t.pause();n.setAttribute('aria-pressed','true');n.textContent='Play';n.setAttribute('aria-label','Play carousel')}})} }catch(e){console.warn('Carousel init failed',e)}const o=document.getElementById('themeToggle'),r=document.body,s=localStorage.getItem('cg-theme');if(s==='dark')r.classList.add('dark-mode');if(s==='light')r.classList.remove('dark-mode');if(o){const e=()=>o.setAttribute('aria-pressed',r.classList.contains('dark-mode')?'true':'false');e(),o.addEventListener('click',()=>{const e=r.classList.toggle('dark-mode');localStorage.setItem('cg-theme',e?'dark':'light'),o.setAttribute('aria-pressed',r.classList.contains('dark-mode')?'true':'false')})}document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener('click',function(t){const n=e.getAttribute('href');if(!n||n==='#')return;const o=document.querySelector(n);if(o){t.preventDefault(),o.scrollIntoView({behavior:'smooth',block:'start'}),o.setAttribute('tabindex','-1'),o.focus({preventScroll:!0}),window.setTimeout(()=>o.removeAttribute('tabindex'),1e3)}})});const a=Array.from(document.querySelectorAll('audio'));if(a.length)for(const e of a)e.addEventListener('play',function(){a.forEach(function(t){t!==e&&!t.paused&&t.pause()})});document.querySelectorAll('.btn-retro').forEach(function(e){e.addEventListener('click',function(){const t=e.closest('.music-card');let n=null;t&&(n=t.querySelector('audio')),n||(n=document.querySelector('audio'));if(!n)return;n.paused?(a.forEach(function(e){!e.paused&&e.pause()}),n.play().catch(function(e){})):n.pause()})});const i=document.getElementById('audioStatus');a.forEach(function(e){e.addEventListener('play',function(){const t=e.closest('.music-card');if(t){t.classList.add('audio-playing');const n=t.querySelector('.btn-retro');n&&(n.classList.add('playing'),n.textContent='Pause',n.setAttribute('aria-pressed','true')),i&& (i.textContent=`Playing ${t.querySelector('h3')?.textContent||'track'}`)}}),e.addEventListener('pause',function(){const t=e.closest('.music-card');if(t){t.classList.remove('audio-playing');const n=t.querySelector('.btn-retro');n&&(n.classList.remove('playing'),n.textContent='Listen',n.setAttribute('aria-pressed','false')),i&&(i.textContent=`Paused ${t.querySelector('h3')?.textContent||'track'}`)}}),e.addEventListener('ended',function(){const t=e.closest('.music-card');if(t){t.classList.remove('audio-playing');const n=t.querySelector('.btn-retro');n&&(n.classList.remove('playing'),n.textContent='Listen',n.setAttribute('aria-pressed','false')),i&&(i.textContent=`${t.querySelector('h3')?.textContent||'Track'} ended`)}})});});
